<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Neovim terminal fun - Yet another tech blog</title><meta name=viewport content="width=device-width,initial-scale=1"><meta itemprop=name content="Neovim terminal fun"><meta itemprop=description content="Configure your neovim terminal for maximum efficiency"><meta itemprop=datePublished content="2019-05-26T00:00:00-05:00"><meta itemprop=dateModified content="2019-05-26T00:00:00-05:00"><meta itemprop=wordCount content="383"><meta itemprop=keywords content="neovim,"><meta property="og:title" content="Neovim terminal fun"><meta property="og:description" content="Configure your neovim terminal for maximum efficiency"><meta property="og:type" content="article"><meta property="og:url" content="https://trebaud.github.io/posts/neovim-term/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-05-26T00:00:00-05:00"><meta property="article:modified_time" content="2019-05-26T00:00:00-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Neovim terminal fun"><meta name=twitter:description content="Configure your neovim terminal for maximum efficiency"><link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel=stylesheet type=text/css><link rel=stylesheet type=text/css media=screen href=https://trebaud.github.io/css/normalize.css><link rel=stylesheet type=text/css media=screen href=https://trebaud.github.io/css/main.css><link id=dark-scheme rel=stylesheet type=text/css href=https://trebaud.github.io/css/dark.css><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script>
<script src=https://trebaud.github.io/js/main.js></script></head><body><div class="container wrapper"><div class=header><div class=avatar><a href=https://trebaud.github.io/><img src="https://avatars2.githubusercontent.com/u/8050949?s=400&v=4" alt="Yet another tech blog"></a></div><h1 class=site-title><a href=https://trebaud.github.io/>Yet another tech blog</a></h1><div class=site-description><p>A collection of loosely coupled ramblings about tech, coding and life.</p><nav class="nav social"><ul class=flat><li><a href=https://github.com/trebaud title=Github><i data-feather=github></i></a></li><li><a href=https://www.linkedin.com/in/thomas-rebaud-8017a168/ title=Linkedin><i data-feather=linkedin></i></a></li><li><a href=# class=scheme-toggle id=scheme-toggle></a></li></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>üè† Home</a></li><li><a href=/posts>üìù All posts</a></li><li><a href=/about>üë®‚Äçüíª About</a></li><li><a href=/neck-visualizer>üé∏</a></li><li><a href=/tags>üîç Tags</a></li></ul></nav></div><div class=post><div class=post-header><div class=meta><div class=date><span class=day>26</span>
<span class=rest>May 2019</span></div></div><div class=matter><h1 class=title>Neovim terminal fun</h1></div></div><div class=markdown><p>Neovim is Vim&rsquo;s forked cousin that aims to replace it by providing additional features and refactoring Vim&rsquo;s old code base. One of the cool stuff that comes with Neovim is its integrated terminal emulator. In this short blog post I will share how I use Neovim&rsquo;s terminal and how you can configure it to make it easier to use.</p><p>First install Neovim on your system, for that follow the official guide instructions here. To open Neovim&rsquo;s terminal you can to type:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  :te
</span></span><span style=display:flex><span>  :term
</span></span><span style=display:flex><span>  :terminal
</span></span></code></pre></div><p>To make it easier to use you&rsquo;ll want to modify some of the defaults that might refrain you from further using Neovim&rsquo;s terminal.</p><p>First map the weirdly <code>Ctrl-\ Ctrl-n</code> default binding for switching to normal mode to simply <code>Esc</code>.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  tnoremap &lt;Esc&gt; &lt;C-<span style=color:#666;background-color:#fff0f0;font-weight:700>\&gt;</span>&lt;C-n&gt;
</span></span></code></pre></div><p>Then add this autocommand grouping for starting the terminal directly in insert mode, which I personally find should be the default expected behaviour when launching a terminal.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  augroup neovim_terminal
</span></span><span style=display:flex><span>    autocmd!
</span></span><span style=display:flex><span>    <span style=background-color:#fff0f0>&#34; Enter Terminal-mode (insert) automatically
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>    autocmd TermOpen * startinsert
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>
</span></span></span><span style=display:flex><span><span style=background-color:#fff0f0>    &#34;</span> Disables number lines on terminal buffers
</span></span><span style=display:flex><span>    autocmd TermOpen * :set nonumber norelativenumber
</span></span><span style=display:flex><span>  augroup END
</span></span></code></pre></div><p>Finally set the current directory in Neovim as the starting one in the terminal and open it in a new vertical pane. You can do all of that
with one single command. Here I map it to <code>Alt-t</code> (for Alternative terminal).</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  map &lt;A-t&gt; :80vsp&lt;CR&gt;:let <span style=color:#963>$VIM_DIR</span><span style=color:#333>=</span>expand<span style=color:#333>(</span><span style=background-color:#fff0f0>&#39;%:p:h&#39;</span><span style=color:#333>)</span>&lt;CR&gt;:terminal&lt;CR&gt;cd <span style=color:#963>$VIM_DIR</span>&lt;CR&gt;
</span></span></code></pre></div><p>And before I forget add this to your Neovim config file so as to close the terminal pane without too much embarrassment ;).</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  nnoremap &lt;Leader&gt;d :bd!&lt;CR&gt;
</span></span></code></pre></div><p>(I personally map my Leader key to <code>\</code>)</p><p>With all of that in place you can now setup quite an interesting workflow. I usually use the terminal for launching a service associated with the codebase I&rsquo;m working on,
like a server, or launching a set of unit tests. That way I can easily switch to normal mode and search on the terminal&rsquo;s output or copy some piece of standard ouput
and then paste it as a new terminal command. All of that using vim&rsquo;s classic shortcuts of course!</p><p>Neovim&rsquo;s terminal is a powerful addition to the now classic editor and with the right configuration it constitutes an interesting and simple alternative to other tools such as tmux or even i3
which also aim to integrate the terminal to the developer&rsquo;s workflow.</p><p><img src=/img/neovimterm.png alt=neovim-term></p></div><div class=tags><ul class=flat><li><a href=/tags/neovim>neovim</a></li></ul></div></div></div><div class="footer wrapper"><nav class=nav><div>2022 <a href=https://github.com/knadh/hugo-ink>Ink</a> theme on <a href=https://gohugo.io>Hugo</a></div></nav></div><script>feather.replace()</script></body></html>