<!doctype html><html lang=en><head><title>Neovim terminal fun ::
trebaud
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Neovim is Vim&amp;rsquo;s forked cousin that aims to replace it by providing additional features and refactoring Vim&amp;rsquo;s old code base. One of the cool stuff that comes with Neovim is its integrated terminal emulator. In this short blog post I will share how I use Neovim&amp;rsquo;s terminal and how you can configure it to make it easier to use.
First install Neovim on your system, for that follow the official guide instructions here."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://trebaud.github.io/posts/neovim-term/><link rel=stylesheet href=https://trebaud.github.io/assets/style.css><link rel=stylesheet href=https://trebaud.github.io/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://trebaud.github.io/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://trebaud.github.io/img/favicon.png><link href=https://trebaud.github.io/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://trebaud.github.io/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://trebaud.github.io/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://trebaud.github.io/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://trebaud.github.io/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://trebaud.github.io/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://trebaud.github.io/"><meta name=twitter:title content="Neovim terminal fun"><meta name=twitter:description content="Configure your neovim terminal for maximum efficiency"><meta property="og:title" content="Neovim terminal fun"><meta property="og:description" content="Configure your neovim terminal for maximum efficiency"><meta property="og:type" content="article"><meta property="og:url" content="https://trebaud.github.io/posts/neovim-term/"><meta property="og:image" content="https://trebaud.github.io/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-05-26T00:00:00-05:00"><meta property="article:modified_time" content="2019-05-26T00:00:00-05:00"></head><body><div class=container><header class=header><span class=header__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>$ cd /home/trebaud</span>
<span class=logo__cursor></span>
</a><span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/posts>cd ~/posts</a></li><li><a href=/whoami>whoami</a></li><ul class=menu__sub-inner><li class=menu__sub-inner-more-trigger>Show more
<span class=menu__sub-inner-more-trigger-icon><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span></li><ul class="menu__sub-inner-more hidden"><li><a href=/tags>üîç tags</a></li><li><a href=/neck-visualizer>üé∏ guitar</a></li></ul></ul></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/posts>cd ~/posts</a></li><li><a href=/whoami>whoami</a></li><li><a href=/tags>üîç tags</a></li><li><a href=/neck-visualizer>üé∏ guitar</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=post><h1 class=post-title>Neovim terminal fun</h1><div class=post-meta><span class=post-date>2019-05-26
</span><span class=post-read-time>‚Äî 2 min read</span></div><span class=post-tags><a href=https://trebaud.github.io/tags/neovim/>#neovim</a>&nbsp;</span><div class=post-content><p>Neovim is Vim&rsquo;s forked cousin that aims to replace it by providing additional features and refactoring Vim&rsquo;s old code base. One of the cool stuff that comes with Neovim is its integrated terminal emulator. In this short blog post I will share how I use Neovim&rsquo;s terminal and how you can configure it to make it easier to use.</p><p>First install Neovim on your system, for that follow the official guide instructions here. To open Neovim&rsquo;s terminal you can to type:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  :te
</span></span><span style=display:flex><span>  :term
</span></span><span style=display:flex><span>  :terminal
</span></span></code></pre></div><p>To make it easier to use you&rsquo;ll want to modify some of the defaults that might refrain you from further using Neovim&rsquo;s terminal.</p><p>First map the weirdly <code>Ctrl-\ Ctrl-n</code> default binding for switching to normal mode to simply <code>Esc</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  tnoremap &lt;Esc&gt; &lt;C-<span style=color:#ae81ff>\&gt;</span>&lt;C-n&gt;
</span></span></code></pre></div><p>Then add this autocommand grouping for starting the terminal directly in insert mode, which I personally find should be the default expected behaviour when launching a terminal.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  augroup neovim_terminal
</span></span><span style=display:flex><span>    autocmd!
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34; Enter Terminal-mode (insert) automatically
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    autocmd TermOpen * startinsert
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &#34;</span> Disables number lines on terminal buffers
</span></span><span style=display:flex><span>    autocmd TermOpen * :set nonumber norelativenumber
</span></span><span style=display:flex><span>  augroup END
</span></span></code></pre></div><p>Finally set the current directory in Neovim as the starting one in the terminal and open it in a new vertical pane. You can do all of that
with one single command. Here I map it to <code>Alt-t</code> (for Alternative terminal).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  map &lt;A-t&gt; :80vsp&lt;CR&gt;:let $VIM_DIR<span style=color:#f92672>=</span>expand<span style=color:#f92672>(</span><span style=color:#e6db74>&#39;%:p:h&#39;</span><span style=color:#f92672>)</span>&lt;CR&gt;:terminal&lt;CR&gt;cd $VIM_DIR&lt;CR&gt;
</span></span></code></pre></div><p>And before I forget add this to your Neovim config file so as to close the terminal pane without too much embarrassment ;).</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>  nnoremap &lt;Leader&gt;d :bd!&lt;CR&gt;
</span></span></code></pre></div><p>(I personally map my Leader key to <code>\</code>)</p><p>With all of that in place you can now setup quite an interesting workflow. I usually use the terminal for launching a service associated with the codebase I&rsquo;m working on,
like a server, or launching a set of unit tests. That way I can easily switch to normal mode and search on the terminal&rsquo;s output or copy some piece of standard ouput
and then paste it as a new terminal command. All of that using vim&rsquo;s classic shortcuts of course!</p><p>Neovim&rsquo;s terminal is a powerful addition to the now classic editor and with the right configuration it constitutes an interesting and simple alternative to other tools such as tmux or even i3
which also aim to integrate the terminal to the developer&rsquo;s workflow.</p><p><img src=/img/neovimterm.png alt=neovim-term></p></div><hr><div class=sharing-buttons><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?url=https%3a%2f%2ftrebaud.github.io%2fposts%2fneovim-term%2f" target=_blank rel=noopener aria-label title="Share on twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2ftrebaud.github.io%2fposts%2fneovim-term%2f&amp;resubmit=true&amp;title=Neovim%20terminal%20fun" target=_blank rel=noopener aria-label title="Share on reddit"><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2ftrebaud.github.io%2fposts%2fneovim-term%2f&amp;t=Neovim%20terminal%20fun" target=_blank rel=noopener aria-label title="Share on hacker news"><div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg></div></div></a></div><script src=https://utteranc.es/client.js repo=trebaud/trebaud.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></div><footer class=footer><div class=footer__inner><a href=/ class=logo style=text-decoration:none><span class=logo__mark><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg></span><span class=logo__text>$ cd /home/trebaud</span>
<span class=logo__cursor></span></a><div class=copyright><span>¬© 2023 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script src=https://trebaud.github.io/assets/main.js></script><script src=https://trebaud.github.io/assets/prism.js></script></div></body></html>